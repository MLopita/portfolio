<!-- <router-outlet></router-outlet> -->

<div class="portfolio-container">
  <!-- Sidebar (Hidden on Desktop) -->
  <div *ngIf="!selectedProject" class="sidebar" [class.open]="isSidebarOpen">
    <button class="close-btn" (click)="toggleSidebar()">‚úñ</button>
    <ul>
      <!-- <li><a href="#home" (click)="toggleSidebar()">Home</a></li> -->
      <li><a href="#about" (click)="toggleSidebar()">About Me</a></li>
      <li><a href="#skills" (click)="toggleSidebar()">Skills</a></li>
      <li><a href="#projects" (click)="toggleSidebar()">Projects</a></li>
      <!-- <li><button class="but1" (click)="downloadResume()">
          <i class="fas fa-download"></i> Resume
        </button>
      </li> -->
      <li><a href="#resume" (click)="downloadResume()">Resume</a></li>
      <li><a href="#contact" (click)="toggleSidebar()">Contact</a></li>
      <li>
        <a (click)="toggleTheme()">
          <i [ngClass]="isDarkMode ? 'fa-solid fa-sun' : 'fa-solid fa-moon'"></i>
        </a>
      </li>
    </ul>
  </div>

  <!-- Navbar (Hidden on Mobile) -->
  <nav *ngIf="!selectedProject" class="navbar">
    <button class="menu-btn" (click)="toggleSidebar()">‚ò∞</button>
    <div class="logo" >
      <span class="logo-text">My Portfolio</span>
    </div>
    <ul class="nav-links">
      <!-- <li><a href="#home">Home</a></li> -->
      <li><a href="#about">About Me</a></li>
      <li><a href="#skills">Skills</a></li>
      <li><a href="#projects">Projects</a></li>
      <li><a href="#contact">Contact</a></li>
      <li>
        <button class="but1" (click)="downloadResume()">
          <i class="fas fa-download"></i> Resume
        </button>
      </li>
      <li>
        <a (click)="toggleTheme()">
          <i [ngClass]="isDarkMode ? 'fa-solid fa-sun' : 'fa-solid fa-moon'"></i>
        </a>
      </li>
    </ul>
  </nav>
  

 <!-- About Me Section -->
<section *ngIf="!selectedProject" id="about" class="section about">
  <div class="about-content">
    <div class="home-content">
      <img src="https://avatars.githubusercontent.com/u/190205469?v=4" alt="My Photo" class="profile-pic" />
      <h1>Lopita Mishra</h1>
      <div class="homeSocials">
        <a href="https://github.com/MLopita" target="_blank">
          <i class="fab fa-github"></i>
        </a>
        <a href="https://www.linkedin.com/in/lopita-mishra-096534191/" target="_blank">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="mailto:lopitamishra2001@gmail.com">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
    </div>
    <div class="home-image">
      <div class="aboutme">
        <h1>About Me</h1>
        <p>
          An Aspiring Business Intelligence Analyst with a specialization in data analysis, visualization, and reporting using Power BI, Excel, and SQL with a passion for learning with an endless supply of optimism and curiosity.
          Having adequate skills, self motivated and
          curious, with a keen interest in building user-centric products. Looking
          forward to honing my skills in a challenging environment.
        </p>
        <button class="but1" (click)="downloadResume()">
           Resume
        </button>
      </div>
    </div>
  </div>
</section>

<hr class="section-divider" *ngIf="!selectedProject" />
  <!-- Skills Section -->
  <section *ngIf="!selectedProject" id="skills" class="section skills">
    <h2>Skills & Technologies</h2>
    <div class="skill-list">
      <span><i class="devicon-java-plain"></i> PowerBI</span>
      <span><i class="devicon-angularjs-plain"></i> Advanced Excel</span>
      <span><i class="devicon-mysql-plain"></i> MySQL</span>
      <span><i class="devicon-css3-plain"></i> Python</span>
      <span><i class="devicon-spring-plain"></i> JIRA</span>
      <span><i class="devicon-hibernate-plain"></i> BRD</span>
      <span><i class="fa-solid fa-database"></i> Agile</span>
      <span><i class="fa-brands fa-connectdevelop"></i> Scrum</span>
      <span><i class="devicon-mongodb-plain"></i> Six Sigma</span>
      <span><i class="devicon-amazonwebservices-plain"></i> Project Management</span>
      <span><i class="devicon-postman-plain"></i> Statistical Analysis</span>
      <span><i class="devicon-html5-plain"></i> Data Warehousing</span>
      <span><i class="devicon-github-original"></i> GitHub</span>
      <span><i class="fa-solid fa-code"></i> Data Analysis & visualization</span>
    </div>
  </section>
  
  <hr class="section-divider" *ngIf="!selectedProject"/>


<section *ngIf="!selectedProject" id="projects" class="section projects">
  <h2>Projects</h2>

  <div class="carousel-wrapper">
    <button class="carousel-btn" (click)="prevSlide()" [disabled]="startIndex === 0">‚Äπ</button>

    <div class="projects-container">
      <div class="project-card" *ngFor="let project of visibleProjects">
        <img [src]="project.image" [alt]="project.title" class="project-img" />
        <h3>{{ project.title }}</h3>
        <div class="project-summary-container">
          <p class="project-summary">{{ project.summary }}</p>
          <div class="tooltip-text">{{ project.summary }}</div>
        </div>
        <p><strong>Tech Stack:</strong> {{ project.techStack }}</p>
        <button (click)="viewDetails(project)" class="btn">View Project Details</button>
      </div>
    </div>

    <button class="carousel-btn" (click)="nextSlide()" [disabled]="startIndex >= projects.length - 1">‚Ä∫</button>
  </div>
</section>

<section id="certificates" class="section certificates" *ngIf="!selectedProject">
  <h2>Certificates</h2>

  <div class="carousel-wrapper2" *ngIf="!selectedCertificate">
    <button class="carousel-btn2 left" (click)="prevCertificate()" [disabled]="certificateStartIndex === 0">‚Äπ</button>

    <div class="certificates-carousel">
      <div class="certificates-container">
        <div class="certificate-card" *ngFor="let cert of visibleCertificates">
          <img [src]="cert.thumbnail" [alt]="cert.title" class="certificate-img" />
          <h3>{{ cert.title }}</h3>
          <button class="btn" (click)="viewCertificate(cert)">View</button>
        </div>
      </div>
    </div>

    <button
      class="carousel-btn2 right"
      (click)="nextCertificate()"
      [disabled]="certificateStartIndex >= certificates.length - visibleCount"
    >‚Ä∫</button>
  </div>
</section>


<!-- Certificate Detail View -->
<section *ngIf="selectedCertificate" class="section certificate-details">
  <button (click)="closeCertificate()" class="btn">‚Üê Back</button>
  <h2>{{ selectedCertificate.title }}</h2>
  <img [src]="selectedCertificate.fullImage" [alt]="selectedCertificate.title" class="full-certificate-img" />
</section>



<hr class="section-divider" *ngIf="!selectedProject"/>

  <!-- Project Detail View -->
<div class="project-details" *ngIf="selectedProject">
  <button (click)="backToList()" class="back-btn">
    <a href="#projects" style="text-decoration: none; color: inherit;">‚Üê Back to Projects</a>
  </button>

  <h2 class="project-title">{{ selectedProject.title }}</h2>

  <div class="project-section">
    <h3>üõ† Tools Used:</h3>
    <p>{{ selectedProject.techStack }}</p>
  </div>

  <div class="project-section">
    <h3>üéØ Objective:</h3>
    <p>{{ selectedProject.objective }}</p>
  </div>

  <div class="project-section">
    <h3>üìÑ Project Description:</h3>
    <ul class="description-list">
      <li *ngFor="let line of selectedProject.summary.split('.')">
        {{ line.trim() }}<span *ngIf="line.trim()">.</span>
      </li>
    </ul>
  </div>

  <div class="project-section">
    <h3>üñºÔ∏è Key Visuals:</h3>
    <div *ngFor="let visual of selectedProject.visuals" class="visual-block">
      <h4>{{ visual.title }}</h4>
      <ul>
        <li *ngFor="let point of visual.points">{{ point }}</li>
      </ul>
      <div class="visual-images">
        <img *ngFor="let image of visual.images" [src]="image" alt="Visual" />
      </div>
    </div>
  </div>

  <div class="project-section">
    <h3>üí° Insights & Impact:</h3>
    <ul class="insight-list">
      <li *ngFor="let insight of selectedProject.insights">{{ insight }}</li>
    </ul>
  </div>

  <div class="project-section project-links" *ngIf="selectedProject.files?.length || selectedProject.videos?.length">
    <div *ngIf="selectedProject.files?.length">
      <h4>üìÇ Project Files:</h4>
      <ul>
        <li *ngFor="let file of selectedProject.files">
          <a [href]="file.url" target="_blank" class="link-btn">{{ file.name }}</a>
        </li>
      </ul>
    </div>

    <div *ngIf="selectedProject.videos?.length">
      <h4>üé¨ Walkthrough Videos:</h4>
      <ul>
        <li *ngFor="let video of selectedProject.videos">
          <a [href]="video.url" target="_blank" class="link-btn">{{ video.name }}</a>
        </li>
      </ul>
    </div>
  </div>
</div>
  

  <!-- Contact Section -->
  <section *ngIf="!selectedProject" id="contact" class="section contact">
    <h2>Contact Me</h2>
    <p>Let's connect! Reach out to me via social media or email.</p>
  
    <div class="contact-container">
      <!-- Left Side: Contact Info & Social Links -->
      <div class="contact-info">
        <div class="socials">
          <a href="tel:+91 7848910741"><i class="fas fa-phone"></i></a>
          <a href="https://github.com/MLopita" target="_blank"><i class="fab fa-github"></i></a>
          <a href="https://www.linkedin.com/in/lopita-mishra-096534191/" target="_blank"><i class="fab fa-linkedin"></i></a>
          <a href="mailto:lopitamishra2001@gmail.com"><i class="fas fa-envelope"></i></a>
        </div>
      </div>
  
      <!-- Right Side: Contact Form -->
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
        <div class="input-group">
          <input type="text" formControlName="name" placeholder="Your Name" required />
        </div>
        <div class="input-group">
          <input type="email" formControlName="email" placeholder="Your Email" required />
        </div>
        <div class="input-group">
          <textarea formControlName="message" rows="4" placeholder="Your Message" required></textarea>
        </div>
        <button type="submit" class="submit-btn" [disabled]="contactForm.invalid">Send Message</button>
      </form>
    </div>
  </section>
  
  <hr class="section-divider" *ngIf="!selectedProject" />
</div>
